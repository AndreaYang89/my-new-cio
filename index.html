<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaLog V1.8.1 - 修复接口版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: '#0f172a',
                        card: '#1e293b',
                        accent: '#3b82f6',
                        danger: '#ef4444', 
                        success: '#22c55e',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-dark text-slate-200 font-sans antialiased min-h-screen pb-24 relative overflow-x-hidden">

    <nav class="sticky top-0 z-30 bg-dark/90 backdrop-blur-md border-b border-slate-800 px-4 py-3 flex justify-between items-center shadow-lg">
        <h1 class="font-bold text-xl tracking-tight text-white flex items-center">
            <i class="fa-solid fa-bolt text-accent mr-2"></i> AlphaLog <span class="text-[10px] ml-2 bg-slate-800 px-2 py-0.5 rounded text-slate-400">Fixed</span>
        </h1>
        <div class="flex items-center gap-3">
            <button onclick="fetchRealTimeData()" id="refreshBtn" class="flex items-center gap-2 bg-emerald-900/50 hover:bg-emerald-800 text-emerald-400 border border-emerald-800 px-3 py-1.5 rounded-full text-xs font-bold transition">
                <i class="fa-solid fa-rotate"></i> <span id="refreshText">刷新行情</span>
            </button>
            <button onclick="toggleSettings()" class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center hover:bg-slate-700 transition">
                <i class="fa-solid fa-gear text-slate-400"></i>
            </button>
        </div>
    </nav>

    <div id="settingsPanel" class="hidden bg-slate-800 border-b border-slate-700 p-4 animate-fade-in-down">
        <div class="max-w-5xl mx-auto flex justify-between items-center">
            <div class="text-sm text-slate-400">
                <p class="font-bold text-white mb-1">系统设置</p>
                <div class="flex items-center gap-2">
                    <span>USD汇率:</span>
                    <input type="number" id="exchangeRate" class="bg-slate-900 border border-slate-600 rounded px-2 py-0.5 w-16 text-center" onchange="updateDashboard(true)">
                </div>
            </div>
            <div class="flex gap-3">
                <button onclick="exportData()" class="bg-blue-900/50 hover:bg-blue-800 text-blue-300 px-4 py-2 rounded-lg text-xs flex items-center border border-blue-800">
                    <i class="fa-solid fa-download mr-2"></i> 备份
                </button>
                <label class="bg-slate-700 hover:bg-slate-600 text-slate-300 px-4 py-2 rounded-lg text-xs flex items-center border border-slate-600 cursor-pointer">
                    <i class="fa-solid fa-upload mr-2"></i> 恢复
                    <input type="file" id="importFile" class="hidden" onchange="importData(this)">
                </label>
            </div>
        </div>
    </div>

    <div class="max-w-5xl mx-auto p-4 space-y-6">
        
        <div class="grid grid-cols-1 md:grid-cols-12 gap-4">
            <div class="md:col-span-7 bg-gradient-to-br from-slate-800 to-slate-900 p-6 rounded-3xl border border-slate-700 shadow-2xl relative overflow-hidden">
                <div class="flex justify-between items-start">
                    <p class="text-slate-400 text-xs font-medium uppercase tracking-wider">实时净资产 (RMB)</p>
                    <span class="text-[10px] text-slate-500" id="lastUpdateTime">等待同步...</span>
                </div>
                <div class="flex items-baseline mt-2">
                    <h2 class="text-4xl md:text-5xl font-bold text-white font-mono tracking-tighter" id="totalAssetDisplay">---</h2>
                </div>
                <div class="mt-6 flex items-center bg-slate-800/50 p-2 rounded-lg border border-slate-700/50 w-fit">
                    <span class="text-xs text-slate-400 mr-2">资金池(补差):</span>
                    <span class="text-xs text-slate-500 mr-1">¥</span>
                    <input type="number" id="rmbCashInput" class="bg-transparent border-b border-slate-600 text-white font-mono w-24 focus:border-accent focus:outline-none text-sm" placeholder="0" onchange="updateDashboard(true)">
                </div>
            </div>

            <div class="md:col-span-5 bg-slate-800 p-4 rounded-3xl border border-slate-700 shadow-xl flex items-center relative h-48">
                <div class="w-1/2 h-full flex flex-col justify-center pl-2 space-y-2">
                    <div>
                        <div class="text-[10px] text-slate-500 uppercase">A股</div>
                        <div class="text-lg font-bold text-blue-400" id="cnRatio">--%</div>
                    </div>
                    <div>
                        <div class="text-[10px] text-slate-500 uppercase">海外</div>
                        <div class="text-lg font-bold text-purple-400" id="globalRatio">--%</div>
                    </div>
                    <div>
                        <div class="text-[10px] text-slate-500 uppercase">现金</div>
                        <div class="text-lg font-bold text-emerald-400" id="cashRatio">--%</div>
                    </div>
                </div>
                <div class="w-1/2 h-full p-2">
                    <canvas id="assetChart"></canvas>
                </div>
            </div>
        </div>

        <div class="bg-slate-900/50 rounded-3xl p-4 border border-slate-800">
            <div class="flex justify-between items-center mb-4 cursor-pointer" onclick="toggleHoldings()">
                <h3 class="font-bold text-white text-md">
                    <i class="fa-solid fa-list-ul mr-2 text-slate-400"></i>持仓监控 
                    <span class="text-xs font-normal text-slate-500 ml-2" id="holdingsCount">(--)</span>
                </h3>
                <div class="flex items-center text-xs text-slate-400 bg-slate-800 px-3 py-1 rounded-full hover:text-white transition">
                    <span id="toggleText">展开全部</span>
                    <i class="fa-solid fa-chevron-down ml-2 transition-transform duration-300" id="toggleIcon"></i>
                </div>
            </div>
            
            <div id="holdingsListContainer" class="overflow-hidden transition-all duration-500 ease-in-out max-h-[280px]">
                <div id="holdingsList" class="space-y-3 pb-2">
                    </div>
                <div class="absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-slate-900 to-transparent pointer-events-none" id="listFade"></div>
            </div>
        </div>
        
        <div>
             <div class="flex justify-between items-end mb-3 px-1">
                <h3 class="font-bold text-white text-md"><i class="fa-solid fa-clock-rotate-left mr-2 text-accent"></i>复盘日志</h3>
            </div>
            <div id="transactionLog" class="space-y-3"></div>
        </div>

    </div>

    <button onclick="openTradeDrawer()" class="fixed bottom-6 right-6 w-14 h-14 bg-accent hover:bg-blue-600 rounded-full shadow-2xl flex items-center justify-center text-white text-2xl z-40 transition-transform hover:scale-110 active:scale-95">
        <i class="fa-solid fa-plus"></i>
    </button>

    <div id="tradeDrawer" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" onclick="closeTradeDrawer()"></div>
        <div class="absolute bottom-0 left-0 right-0 bg-card rounded-t-3xl border-t border-slate-600 shadow-2xl h-[85vh] transform transition-transform duration-300 translate-y-full flex flex-col" id="drawerContent">
            <div class="w-full flex justify-center pt-3 pb-1" onclick="closeTradeDrawer()"><div class="w-12 h-1.5 bg-slate-600 rounded-full"></div></div>
            <div class="px-6 py-4 border-b border-slate-700 flex justify-between items-center">
                <h2 class="text-xl font-bold text-white">记账 & 复盘</h2>
                <button onclick="closeTradeDrawer()" class="text-slate-400 hover:text-white bg-slate-800 px-3 py-1 rounded-full text-xs">取消</button>
            </div>
            <div class="flex-1 overflow-y-auto p-6 space-y-6">
                <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                    <h3 class="text-xs text-slate-400 uppercase font-bold mb-3">1. 交易指令</h3>
                    <div class="grid grid-cols-2 gap-4 mb-3">
                        <div>
                            <label class="text-xs text-slate-500 block mb-1">代码</label>
                            <input type="text" id="tCode" list="stockOptions" placeholder="如 512400" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm outline-none focus:border-accent uppercase">
                            <datalist id="stockOptions"></datalist>
                        </div>
                        <div>
                            <label class="text-xs text-slate-500 block mb-1">方向</label>
                            <select id="tType" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm outline-none focus:border-accent">
                                <option value="buy">买入</option>
                                <option value="sell">卖出</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs text-slate-500 block mb-1">成交额(CNY)</label>
                            <input type="number" id="tAmount" placeholder="0" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm outline-none focus:border-accent">
                        </div>
                        <div>
                            <label class="text-xs text-slate-500 block mb-1">情绪</label>
                            <select id="tMood" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm outline-none focus:border-accent">
                                <option value="calm">冷静/按计划</option>
                                <option value="fomo">急躁/怕踏空</option>
                                <option value="panic">恐慌/止损</option>
                                <option value="bored">手痒/随便玩</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                    <h3 class="text-xs text-accent uppercase font-bold mb-2">2. 逻辑归因 (必填)</h3>
                    <textarea id="tLogic" class="w-full bg-slate-900 border border-slate-600 rounded p-3 text-white text-sm h-24 outline-none resize-none" placeholder="为什么操作？"></textarea>
                </div>
            </div>
            <div class="p-6 border-t border-slate-800 bg-card pb-10">
                <button onclick="submitTrade()" class="w-full bg-accent hover:bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-lg transition">提交</button>
            </div>
        </div>
    </div>

    <script>
        // 核心数据
        const initialHoldings = [
            {code: '007339', prefix: 'sz', name: '易方达沪深300', value: 44016.20, share: 0, category: 'cn'},
            {code: '004742', prefix: 'sz', name: '易方达深证100', value: 49186.49, share: 0, category: 'cn'},
            {code: '560980', prefix: 'sh', name: '光伏龙头ETF', value: 16445.80, share: 23800, category: 'cn'}, 
            {code: '159781', prefix: 'sz', name: '科创创业50', value: 14905.80, share: 16900, category: 'cn'},
            {code: '512400', prefix: 'sh', name: '有色ETF', value: 14406.00, share: 8400, category: 'cn'},
            {code: '020712', prefix: 'of', name: '日经225联接', value: 9801.22, share: 0, category: 'global'},
            {code: '008764', prefix: 'of', name: '天弘越南市场', value: 9073.04, share: 0, category: 'global'},
            {code: '003984', prefix: 'of', name: '嘉实新能源', value: 8380.55, share: 0, category: 'cn'},
            {code: '009505', prefix: 'of', name: '富国上海金', value: 8324.46, share: 0, category: 'cn'},
            {code: '588290', prefix: 'sh', name: '芯片科创ETF', value: 8003.10, share: 3700, category: 'cn'},
            {code: '025209', prefix: 'of', name: '永赢半导体', value: 8067.01, share: 0, category: 'cn'},
            {code: '017436', prefix: 'of', name: '华宝纳斯达克', value: 6059.19, share: 0, category: 'global'},
            {code: '159915', prefix: 'sz', name: '创业板ETF', value: 5202.00, share: 1700, category: 'cn'},
            {code: '007455', prefix: 'of', name: '富国蓝筹QDII', value: 4806.39, share: 0, category: 'global'},
            {code: '512820', prefix: 'sh', name: '银行股基', value: 4260.00, share: 3000, category: 'cn'},
            {code: '017144', prefix: 'of', name: '海外新能源', value: 3552.41, share: 0, category: 'global'},
            {code: '515880', prefix: 'sh', name: '通信ETF', value: 2826.00, share: 1000, category: 'cn'},
            {code: '513200', prefix: 'sh', name: '港股医药ETF', value: 2558.40, share: 2400, category: 'global'},
            {code: '022365', prefix: 'of', name: '永赢科技智选', value: 1627.04, share: 0, category: 'cn'},
            {code: '513880', prefix: 'sh', name: '日经225ETF', value: 14711.70, share: 8900, category: 'global'}
        ];

        const defaultConfig = {
            exchangeRate: 7.29, rmbCash: 220000, usdCash: 18000, transactions: [], holdings: initialHoldings
        };

        let appData = JSON.parse(localStorage.getItem('alphaLogV18')) || defaultConfig;
        if(!appData.holdings || appData.holdings.length < 5) appData.holdings = initialHoldings;

        let chartInstance = null;
        let isExpanded = false;

        function init() {
            document.getElementById('exchangeRate').value = appData.exchangeRate;
            document.getElementById('rmbCashInput').value = appData.rmbCash;
            updateDashboard(false);
            renderLogs();
            
            const datalist = document.getElementById('stockOptions');
            datalist.innerHTML = '';
            appData.holdings.forEach(h => {
                const opt = document.createElement('option');
                opt.value = h.code;
                opt.label = h.name;
                datalist.appendChild(opt);
            });
        }

        // --- 核心修复：HTTPS 协议 ---
        function fetchRealTimeData() {
            const btn = document.getElementById('refreshBtn');
            const btnText = document.getElementById('refreshText');
            btn.classList.add('animate-pulse');
            btnText.innerText = "同步中...";

            let queryCodes = [];
            appData.holdings.forEach(h => {
                if (h.prefix === 'sh' || h.prefix === 'sz') {
                    queryCodes.push(h.prefix + h.code);
                }
            });

            if (queryCodes.length === 0) {
                alert("没有可同步的场内标的");
                resetBtn();
                return;
            }

            // 【关键修复】使用 HTTPS
            const script = document.createElement('script');
            script.src = `https://hq.sinajs.cn/list=${queryCodes.join(',')}`;
            
            script.onload = () => {
                let updatedCount = 0;
                appData.holdings.forEach(h => {
                    if (h.prefix === 'sh' || h.prefix === 'sz') {
                        const varName = `hq_str_${h.prefix}${h.code}`;
                        if (window[varName]) {
                            const elements = window[varName].split(',');
                            if (elements.length > 3) {
                                const currentPrice = parseFloat(elements[3]);
                                if (currentPrice > 0 && h.share > 0) {
                                    h.value = currentPrice * h.share;
                                    const openPrice = parseFloat(elements[1]);
                                    if(openPrice > 0) {
                                        h.pl = ((currentPrice - openPrice) / openPrice * 100).toFixed(2);
                                    }
                                    updatedCount++;
                                }
                            }
                        }
                    }
                });
                
                saveData();
                updateDashboard(false);
                
                const now = new Date();
                document.getElementById('lastUpdateTime').innerText = `更新于 ${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;
                resetBtn();
            };

            script.onerror = () => {
                // 如果HTTPS也失败，可能是网络问题
                console.error("Sina API HTTPS Error");
                alert("接口请求失败。请检查网络或是否安装了广告拦截插件");
                resetBtn();
            };

            document.body.appendChild(script);
        }

        function resetBtn() {
            const btn = document.getElementById('refreshBtn');
            const btnText = document.getElementById('refreshText');
            btn.classList.remove('animate-pulse');
            btnText.innerText = "刷新行情";
        }

        function updateDashboard(save = false) {
            const rate = parseFloat(document.getElementById('exchangeRate').value) || 7.28;
            const rmbCash = parseFloat(document.getElementById('rmbCashInput').value) || 0;
            const usdCashInRmb = appData.usdCash * rate;

            let sumCN = 0, sumGlobal = 0;
            appData.holdings.forEach(item => {
                if (item.category === 'cn') sumCN += item.value;
                if (item.category === 'global') sumGlobal += item.value;
            });

            const totalAsset = sumCN + sumGlobal + rmbCash + usdCashInRmb;
            document.getElementById('totalAssetDisplay').innerText = "¥ " + Math.round(totalAsset).toLocaleString();

            updateChart(sumCN, sumGlobal, rmbCash + usdCashInRmb);
            renderHoldingsList(rate);

            if (save) {
                appData.exchangeRate = rate;
                appData.rmbCash = rmbCash;
                saveData();
            }
        }

        function updateChart(cn, global, cash) {
            const total = cn + global + cash;
            document.getElementById('cnRatio').innerText = Math.round((cn/total)*100) + "%";
            document.getElementById('globalRatio').innerText = Math.round((global/total)*100) + "%";
            document.getElementById('cashRatio').innerText = Math.round((cash/total)*100) + "%";

            const ctx = document.getElementById('assetChart').getContext('2d');
            const data = {
                labels: ['A股', '海外', '现金'],
                datasets: [{
                    data: [cn, global, cash],
                    backgroundColor: ['#60a5fa', '#c084fc', '#34d399'],
                    borderWidth: 0,
                    cutout: '70%'
                }]
            };

            if (chartInstance) {
                chartInstance.data = data;
                chartInstance.update();
            } else {
                chartInstance = new Chart(ctx, { type: 'doughnut', data: data, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } } });
            }
        }

        function renderHoldingsList(rate) {
            const container = document.getElementById('holdingsList');
            container.innerHTML = '';
            
            let allItems = [...appData.holdings];
            allItems.push({code:'USD', name:'美元储备', value: appData.usdCash, pl:0, category:'cash', isUsd:true});
            
            allItems.sort((a,b) => {
                let valA = a.isUsd ? a.value * rate : a.value;
                let valB = b.isUsd ? b.value * rate : b.value;
                return valB - valA;
            });

            document.getElementById('holdingsCount').innerText = `(${allItems.length})`;

            allItems.forEach(item => {
                let displayVal = item.value;
                let symbol = '¥';
                let subVal = '';
                if (item.isUsd) {
                    symbol = '$';
                    subVal = `≈ ¥${Math.round(item.value * rate).toLocaleString()}`;
                }

                const plClass = parseFloat(item.pl) > 0 ? 'text-danger' : (parseFloat(item.pl) < 0 ? 'text-success' : 'text-slate-500');
                const plSign = parseFloat(item.pl) > 0 ? '+' : '';
                
                let iconClass = 'fa-chart-simple';
                if(item.category === 'global') iconClass = 'fa-globe';
                if(item.category === 'cash') iconClass = 'fa-sack-dollar';

                const html = `
                <div class="bg-card p-3 rounded-2xl border border-slate-800 flex justify-between items-center hover:bg-slate-800 transition">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 border border-slate-700">
                            <i class="fa-solid ${iconClass} text-xs"></i>
                        </div>
                        <div>
                            <div class="font-bold text-white text-sm">${item.name}</div>
                            <div class="text-[10px] text-slate-500 font-mono">${item.code}</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-bold text-white font-mono text-sm">${symbol} ${Math.round(displayVal).toLocaleString()}</div>
                        ${item.isUsd ? `<div class="text-[10px] text-slate-500">${subVal}</div>` : 
                        `<div class="text-[10px] ${plClass} font-bold">${plSign}${item.pl}%</div>`}
                    </div>
                </div>
                `;
                container.innerHTML += html;
            });
        }

        function toggleHoldings() {
            const container = document.getElementById('holdingsListContainer');
            const fade = document.getElementById('listFade');
            const icon = document.getElementById('toggleIcon');
            const text = document.getElementById('toggleText');

            if (isExpanded) {
                container.style.maxHeight = '280px';
                container.classList.remove('overflow-y-auto');
                fade.classList.remove('hidden');
                icon.classList.remove('rotate-180');
                text.innerText = "展开全部";
            } else {
                container.style.maxHeight = '2000px'; 
                container.classList.add('overflow-y-auto');
                fade.classList.add('hidden');
                icon.classList.add('rotate-180');
                text.innerText = "收起";
            }
            isExpanded = !isExpanded;
        }

        function submitTrade() {
            const code = document.getElementById('tCode').value;
            const type = document.getElementById('tType').value;
            const amount = parseFloat(document.getElementById('tAmount').value);
            const logic = document.getElementById('tLogic').value;
            const mood = document.getElementById('tMood').value;

            if (!code || !amount) { alert("请填写完整"); return; }
            if (logic.length < 5) { alert("逻辑太短"); return; }

            if (type === 'buy') appData.rmbCash -= amount;
            else appData.rmbCash += amount;
            
            let target = appData.holdings.find(h => h.code === code);
            if (target) {
                if (type === 'buy') target.value += amount;
                else target.value -= amount;
                if(target.value < 0) target.value = 0;
            } else {
                if (type === 'buy') {
                    appData.holdings.push({
                        code: code, prefix: 'sh', name: '新仓-' + code, value: amount, share: 0, pl: 0, category: 'cn'
                    });
                }
            }

            appData.transactions.unshift({
                id: Date.now(), date: new Date().toLocaleDateString(), code, type, amount, logic, mood
            });

            updateDashboard(true);
            renderLogs();
            closeTradeDrawer();
            
            document.getElementById('tCode').value = '';
            document.getElementById('tAmount').value = '';
            document.getElementById('tLogic').value = '';
        }

        function renderLogs() {
            const container = document.getElementById('transactionLog');
            if (!appData.transactions || appData.transactions.length === 0) {
                 container.innerHTML = '<div class="text-center py-6 text-slate-600 text-xs bg-slate-800/30 rounded-2xl border border-slate-800 border-dashed">点击右下角 "+" 记录您的第一笔复盘交易</div>';
                 return;
            }
            container.innerHTML = '';
            appData.transactions.forEach(tx => {
                const isBuy = tx.type === 'buy';
                const color = isBuy ? 'text-danger' : 'text-success';
                const moodTag = tx.mood === 'fomo' ? 'bg-orange-900 text-orange-400' : 'bg-slate-700 text-slate-400';
                container.innerHTML += `
                <div class="bg-card p-4 rounded-2xl border border-slate-800">
                    <div class="flex justify-between mb-2">
                        <span class="font-bold text-white text-sm">${tx.code}</span>
                        <span class="text-[10px] ${moodTag} px-2 py-0.5 rounded uppercase">${tx.mood}</span>
                    </div>
                    <div class="flex justify-between text-xs mb-2">
                        <span class="${color} font-bold">${isBuy?'买入':'卖出'} ¥${tx.amount.toLocaleString()}</span>
                        <span class="text-slate-500">${tx.date}</span>
                    </div>
                    <div class="bg-slate-900/50 p-2 rounded text-xs text-slate-400 italic">"${tx.logic}"</div>
                </div>`;
            });
        }

        function toggleSettings() { document.getElementById('settingsPanel').classList.toggle('hidden'); }
        function saveData() { localStorage.setItem('alphaLogV18', JSON.stringify(appData)); }
        function exportData() {
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(appData));
            const dl = document.createElement('a');
            dl.setAttribute("href", dataStr);
            dl.setAttribute("download", "alphaLog_v18_backup.json");
            document.body.appendChild(dl);
            dl.click(); dl.remove();
        }
        function importData(input) {
            const file = input.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (e) => {
                appData = JSON.parse(e.target.result);
                saveData(); init(); alert("导入成功"); toggleSettings();
            };
            reader.readAsText(file);
        }

        function openTradeDrawer() { document.getElementById('tradeDrawer').classList.remove('hidden'); setTimeout(()=>document.getElementById('drawerContent').classList.remove('translate-y-full'),10); }
        function closeTradeDrawer() { document.getElementById('drawerContent').classList.add('translate-y-full'); setTimeout(()=>document.getElementById('tradeDrawer').classList.add('hidden'),300); }

        window.onload = init;
    </script>
</body>
</html>
